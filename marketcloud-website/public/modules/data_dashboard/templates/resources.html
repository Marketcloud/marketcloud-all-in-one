<div class="dashboard-section-header">
  <span class="fa fa-tags"></span> <span class="root">Categories</span>
  <a class="btn btn-empty-success  pull-right" href="#/categories/create"><span class="fa fa-plus"></span> Create category</a>
</div>
<div class="row mb10">
  <div class="col-xs-12">
    <span class="text-muted">Showing <select ng-model="query.per_page"
      ng-options="o as o for o in [10,20,50,100]">
    </select> items of {{pagination.count}}.</span>
  </div>
</div>
<div class="row" >
  <div class="col-lg-8 col-xs-12">
    <div class=" card card-table mb20">
      <div class="card-toolbar" ng-show="getSelectedItems().length > 0">
        <strong style="margin-right:50px;">{{getSelectedItems().length}} selected</strong>
        <button class="btn btn-sm btn-default" ng-click="bulkDelete()">Delete</button>
      </div>
      <div class="table-responsive">
        <table class="table table-striped">
          <thead>
            <tr>
              <th>
                <div class="form-group m0">
                  <div class="checkbox m0">
                    <input type="checkbox" ng-change="toggleAll()" ng-model="selectAll"/>
                    <label></label>
                  </div>
                </div>
              </th>
              <th></th>
              <th>Path</th>
              <th>Name</th>
              <th></th>
            </tr>
          </thead>
          <tbody ng-show="resources.length > 0">
            <tr ng-repeat="p in resources  track by $index" ng-class="{'selected-row':true === p.selected}">
              <td>
                <div class="form-group">
                  <div class="checkbox">
                    <input type="checkbox" ng-model="p.selected"/>
                    <label></label>
                  </div>
                </div>
              </td>
              <td>
                <div class="imageContainer" style="width:64px;height:64px;">
                  <img ng-src="{{p.image_url || 'marketcloud.azureedge.net/storm-images/placeholder.png'}}" style="max-width:60px;max-height:60px;" fallback-src="https://marketcloud.azureedge.net/storm-images/placeholder.png" class="thumbnail-image"/>
                </div>
              </td>
              <td><a href="#/categories/{{p.id}}/edit" class="link">{{p.path}}</a></td>
              <td><a href="#/categories/{{p.id}}/edit" class="link">{{p.name}}</a></td>
              <td><a href="#/categories/{{p.id}}/edit" class="btn btn-default btn-sm"><span class="fa fa-pencil"></a> <button class="btn btn-default btn-sm" ng-click="deleteCategory(p.id,$index)"><span class="fa fa-trash-o"></button></td>
              
            </tr>
          </tbody>
        </table>
      </div>
      <div ng-show="resources.length <= 0">
        <div class="center text-muted">
          <span class="fa fa-tags f48"></span>
        </div>
        <p class="lead text-muted text-center">Your categories will be displayed here</p>
      </div>
      
      <pagination-nav 
            pagination="pagination"
            on-change-page="loadPage(page)"
          ></pagination-nav>
      </div>
    </div>
  </div>